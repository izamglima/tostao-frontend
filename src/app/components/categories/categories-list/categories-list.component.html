<app-header></app-header>

<div class="wrapper">
    <section class="smaller-section title-section">
        <div class="title-icon-box">
            <i class="material-icons">label</i>
        </div>
        <h3>Categories</h3>
        <a href="/categories/new" title="Add new category" name="New category" class="pull-right top-header-link">
            <i class="material-icons">add_circle</i>
        </a>
    </section>

    <section class="smaller-section filter-box">
        <details name="Open filter form.">
            <summary>Filter</summary>

            <form action="" class="filter-form">
                <div class="form-text-field form-with-icon">
                    <i class="material-icons">label</i>
                    <label for="category">Category</label>
                    <input type="text" name="category" id="category" [(ngModel)]="filterCategory" (keyup.enter)="filterItem(filterCategory)">
                </div>
                <div class="form-filter-button pull-right">
                    <button class="button button-circle" name="filter" id="filter" title="Search category" (click)="filterItem(filterCategory)">
                        <i class="material-icons">search</i>
                    </button>
                </div>
                <div class="cancel-filter" *ngIf="filterCategory">
                    <button name="cancelFilter" (click)="cleanFilter()" title="Clean filter">
                        <i class="material-icons">cancel</i>
                    </button>
                </div>
            </form>
        </details>
    </section>

    <div class="container-box-shared">
        <article *ngFor="let category of filteredItems" class="box-shared box-shared-responsive">
            <div class="box-shared-texts">
                <p>Category</p>
                <span>{{category.attributes.name}}</span>
            </div>
            <div class="box-shared-texts">
                <p>Created</p>
                <span>{{category.attributes['created-at'] | date:'dd/MM/yyyy'}}</span>
            </div>
            <div class="box-shared-texts">
                <p>Updated</p>
                <span>{{category.attributes['updated-at'] | date:'dd/MM/yyyy'}}</span>
            </div>
            <hr>
            <div class="actions-container text-center">
                <a title="View category" href="categories/{{category.id}}" name="see more" class="actions-container-action">
                    <i class="material-icons">info_outline</i>
                </a>
                <a title="Edit category" name="edit item" class="actions-container-action">
                    <i class="material-icons">edit</i>
                </a>
                <a title="Delete category" name="delete item" class="actions-container-action">
                    <i class="material-icons">delete_outline</i>
                </a>
            </div>
        </article>

    </div>
</div>